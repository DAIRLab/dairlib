<!DOCTYPE html>
<html>
<head>
    <title>Object Visibility Control</title>
</head>
<body>
    <h1>Object Visibility Control</h1>
    <form method="POST">
        <ul>
            {% for obj_name, obj_visible in objects.items() %}
                <li>
                    <label>
                        <input type="checkbox" name="{{ obj_name }}" {% if obj_visible %}checked{% endif %}>
                        {{ obj_name }}
                    </label>
                </li>
            {% endfor %}
        </ul>
        <input type="submit" value="Update Visibility">
    </form>

    <form method="POST" enctype="multipart/form-data">
        <!-- Add a file input field for JSON file upload -->
        <input type="file" name="json_file" accept=".json">
        <!-- <input type="submit" value="Upload and Read JSON"> -->
        <button id="json-upload-button" type="button">Upload JSON</button>
    </form>
    
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const jsonUploadButton = document.getElementById('json-upload-button');
        const fileInput = document.querySelector('input[type="file"]');

        jsonUploadButton.addEventListener('click', function () {
            // Trigger a click on the file input to open the file dialog
            fileInput.click();
        });
    });
</script>

</html>
