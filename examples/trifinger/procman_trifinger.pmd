group "1.director" {
    cmd "drake-director" {
        exec = "bazel-bin/director/drake-director --script director/scripts/VisualizationGUI.py";
        host = "localhost";
    }
}

group "2. Visualizer" {
    cmd "state-visualizer-floating (from hardware)" {
        exec = "bazel-bin/examples/trifinger/trifinger_visualizer";
        host = "localhost";
    }
    cmd "state-visualizer-floating (from simulation)" {
        exec = "bazel-bin/examples/trifinger/trifinger_visualizer --lcm_channels=examples/trifinger/parameters/lcm_channels_simulation.yaml";
        host = "localhost";
    }
}

group "3.[SIM] Trifinger" {
    cmd "Simulate" {
        exec = "bazel-bin/examples/trifinger/trifinger_simulation";
        host = "localhost";
    }
}

group "4. Controllers" {
    cmd "OSC Controller (from simulation)" {
        exec = "bazel-bin/examples/trifinger/trifinger_osc_controller";
        host = "localhost";
    }
    cmd "OSC Controller (from hardware)" {
        exec = "bazel-bin/examples/trifinger/trifinger_osc_controller --lcm_channels=examples/trifinger/parameters/lcm_channels_hardware.yaml";
        host = "localhost";
    }
}

group "5. ROS-LCM Bridge" {
    cmd "ROS-to-LCM" {
        exec = "bazel-bin/examples/trifinger/trifinger_ros_lcm_bridge";
        host = "localhost";
    }
    cmd "LCM-to-ROS" {
        exec = "bazel-bin/examples/trifinger/trifinger_lcm_ros_bridge";
        host = "localhost";
    }
    cmd "LCM-to-ROS (simulation)" {
        exec = "bazel-bin/examples/trifinger/trifinger_lcm_ros_bridge --lcm_channels=examples/trifinger/parameters/lcm_channels_simulation.yaml";
        host = "localhost";
    }
}

group "6.lcm-tools" {
    cmd "0.lcm-spy" {
        exec = "bazel-bin/lcmtypes/dair-lcm-spy";
        host = "localhost";
    }
}

script "run-osc-controller-hardware" {
    start cmd "state-visualizer-floating (from hardware)";
    wait ms 1000;
    start cmd "ROS-to-LCM";
    start cmd "LCM-to-ROS";
    start cmd "OSC Controller (from hardware)";
}